<!doctype html>
<html>
<head>
    <title></title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header class="header">
        <p>Imageboard</p>
    </header>

    <div id="main">
        <!-- image upload -->
        <h1>image upload</h1>
        <div class="input-container">
        
        <form class="form" method="POST" action="/upload" enctype="multipart/form-data" autocomplete="off">
            <input name="title" placeholder="Title" v-model="title" />
            <input name="description" placeholder="Description" v-model="description" />
            <input name="username" placeholder="Username" v-model="username" />
            <div class="label-container">
                <input id="file" class="inputfile" name="image" type="file" accept="image/*" @change="handleFileChange" />
                <label for="file">choose a file</label>
                <button class="upload-button" @click="upload">Upload</button>
             </div>
        </form>
    </div>
        
        <!-- render images -->
        <div class="imagecontainer">
            <h1>latest uploads</h1>
            <div v-for="image in images" class="image-box" @click="showComponent">
                <img class="img" :src="image.url">
                <h4>{{ image.title }}</h4>
                <p>{{ image.description }}</p>
            </div>
        </div>
    
         <!-- component for modal show up -->
        <modal
            v-if="imageId"
            :image-id="imageId"
            @close="closeComponent">
        
        </modal>
    </div>

    <!-- THIS IS WHERE THE CODE FOR THE COMPONENT GOES -->
    <script id="modal" type="text/x-template">
        <div class="modal-container">
            <p>Modal goes here {{name}}</p>
            <img src="" alt="">
            <h2 @click="closeModal">X</h2>
        </div>
    </script>



    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
